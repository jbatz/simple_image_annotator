<!doctype html>
<html style="height:100%;">
<head>
    <title>Tagger</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"></link>
    <link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet"></link>
</head>
<body style="height:100%;">

<div id="content" class="container" style="
            width: 50%;
            height: 50%;
            float: right;
            z-index: 8000;
            margin-bottom:
            0px;">

     <div class="row">
        <div class="text-center">
            <text> {{ image }} {{ head }}/{{ len }} </text>
        </div>
     </div>

    <div class="row" style="margin-bottom: 20px">
    {% if not_end %}
        <a href="/next?bad" class="btn btn-danger" style="float:left" type="button">
        <span class="glyphicon glyphicon-thumbs-down icon-red"></span>
      </a>
      <a href="/next?good" class="btn btn-success" style="float:right" type="button">
        <span class="glyphicon glyphicon-thumbs-up"></span>
      </a>
        </div>
        <div class="row">
    {% else %}
      <a href="/next" class="btn btn-primary" style="float:right;" type="button">
        <span class="glyphicon glyphicon-ok"> </span>
      </a>
    {% endif %}
    </div>
    <div style="overflow: scroll">
        <canvas id="canvas" style="width:100%; height:80%; margin: 0; padding: 0;"></canvas>
    </div>
    <!-- <a href="/next" class="btn btn-primary" style="float:left;" type="button">
      <span class="glyphicon glyphicon-arrow-left"></span>
    </a> -->
    <script>
      var labels = {{ labels|tojson|safe }};
      var c = document.getElementById("canvas");
      var ctx = c.getContext("2d");
      var image = new Image();
      console.log(image);
      image.onload = function(e) {
        ctx.canvas.width = image.width;
        ctx.canvas.height = image.height;
        c.width = image.width;
        c.height = image.height;
        ctx.drawImage(image, 0, 0);
        console.log(labels);
      };
      image.style.display="block";
      image.src = "image/{{ image }}";

      var clicked = false;
      var fPoint = {};

    </script>
</div>

</body>
</html>
